# sumikko-brain

sumikko-brain(SMBRと後述)は、すみっコぐらしのキャラクターを元に作成した派生BrainF**kを、Rustで実装したCLIインタプリタです。

言語仕様は[Brian Raiterによる定義](http://www.muppetlabs.com/~breadbox/bf/)に基づいていますが、元のコマンドに加えていくつか独自コマンドが増えていたりします。

## 🔮 Requirement

- rustc: `1.69.0`
- cargo `1.69.0`

## ✨ Usage

SMBRファイルを作成して読み込む、もしくはBrainF**kのコードを変換して読み込むことで、SMBRをインタプリタとして実行することができます。

- SMBRファイルを指定してインタプリタを実行する

> ⚠️ SMBRファイルの拡張子には、`.smbr`を使用することを推奨します

```
cargo run <SMBRファイルのパス> <入力文字列(オプション値)>
```

- BrainF**kで記載されたコードをSMBRで使用するコードに変換して、同じディレクトリ内に保存する

```
cargo run --bin convert <BrainF**kが記載されたファイルのパス>
```

> ⚠️ 変換元となるBrainF**kが記載されたファイルの拡張子には、`.bf`を使用してください

## 📦 Build & Export WASM Package

SMBRには、[wasm-pack](https://github.com/rustwasm/wasm-pack)コマンドを実行することで、SMBRをWebAssemblyとして使用できるパッケージをエクスポートする機能があります。

- `pkg`ディレクトリ配下に、SMBRのWASMパッケージをエクスポートする

```
wasm-pack build --release 
```

## 🐧 Commands Introduction

SMBRでは、以下の10種類のコマンドを使用することができます。

- `しろくま`: ポインタをインクリメントする(`>`)

- `とんかつ`: ポインタをデクリメントする(`<`)

- `ぺんぎん?`: ポインタが指す値をインクリメントする(`+`)

- `とかげ`: ポインタ指す値をデクリメントする(`-`)

- `ねこ`: ポインタが指す値を出力に書き出す(`.`)

- `たぴおか`: 入力から1バイト読み込んで、ポインタが指す先に代入する(`,`)

- `ふろしき`: 0~255の範囲を取るランダムな値を、ポインタが指す先に代入する(独自コマンド)

- `えびふらいのしっぽ`: ポインタが指す値が0なら、対応する`あじふらいのしっぽ`の直後にジャンプする(`[`)

- `あじふらいのしっぽ`: ポインタが指す値が0でないなら、対応する`えびふらいのしっぽ`の直後にジャンプする(`]`)

- `ざっそう`: ポインタが指す先の値を0にリセットする(独自コマンド)